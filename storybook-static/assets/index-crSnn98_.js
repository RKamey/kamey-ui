import{r as o}from"./index-CZMpeKRu.js";import{I as ne,_ as te,C as H,c as Q,g as ie,m as le,w as ce,d as oe,e as Z,f as ue,D as fe,o as de,h as se,i as pe,j as ee,B as me}from"./button-DkP0tecP.js";import{u as ge,F as G,i as Ce,a as ye,I as W,g as be,b as ve,R as Oe,T as he}from"./TextArea-BGZcOdIA.js";import{p as xe,u as Ie}from"./useZIndex-C-aZEuvx.js";var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Ee=function(s,r){return o.createElement(ne,te({},s,{ref:r,icon:Pe}))},Se=o.forwardRef(Ee);const we=e=>{const{getPrefixCls:s,direction:r}=o.useContext(H),{prefixCls:n,className:t}=e,u=s("input-group",n),b=s("input"),[C,v]=ge(b),g=Q(u,{[`${u}-lg`]:e.size==="large",[`${u}-sm`]:e.size==="small",[`${u}-compact`]:e.compact,[`${u}-rtl`]:r==="rtl"},v,t),y=o.useContext(G),m=o.useMemo(()=>Object.assign(Object.assign({},y),{isFormItemInput:!1}),[y]);return C(o.createElement("span",{className:g,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},o.createElement(G.Provider,{value:m},e.children)))},je=e=>{const{componentCls:s,paddingXS:r}=e;return{[s]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:r,"&-rtl":{direction:"rtl"},[`${s}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${s}-sm ${s}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${s}-lg ${s}-input`]:{paddingInline:e.paddingXS}}}},ze=ie(["Input","OTP"],e=>{const s=le(e,Ce(e));return[je(s)]},ye);var $e=function(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)s.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Re=o.forwardRef((e,s)=>{const{value:r,onChange:n,onActiveChange:t,index:u,mask:b}=e,C=$e(e,["value","onChange","onActiveChange","index","mask"]),v=r&&typeof b=="string"?b:r,g=f=>{n(u,f.target.value)},y=o.useRef(null);o.useImperativeHandle(s,()=>y.current);const m=()=>{ce(()=>{var f;const O=(f=y.current)===null||f===void 0?void 0:f.input;document.activeElement===O&&O&&O.select()})},z=f=>{const{key:O,ctrlKey:R,metaKey:A}=f;O==="ArrowLeft"?t(u-1):O==="ArrowRight"?t(u+1):O==="z"&&(R||A)&&f.preventDefault(),m()},$=f=>{f.key==="Backspace"&&!r&&t(u-1),m()};return o.createElement(W,Object.assign({type:b===!0?"password":"text"},C,{ref:y,value:v,onInput:g,onFocus:m,onKeyDown:z,onKeyUp:$,onMouseDown:m,onMouseUp:m}))});var _e=function(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)s.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};function U(e){return(e||"").split("")}const ke=o.forwardRef((e,s)=>{const{prefixCls:r,length:n=6,size:t,defaultValue:u,value:b,onChange:C,formatter:v,separator:g,variant:y,disabled:m,status:z,autoFocus:$,mask:f,type:O,onInput:R,inputMode:A}=e,E=_e(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:S,direction:F}=o.useContext(H),h=S("otp",r),x=xe(E,{aria:!0,data:!0,attr:!0}),N=Ie(h),[V,B,I]=ze(h,N),w=oe(a=>t??a),_=o.useContext(G),M=be(_.status,z),P=o.useMemo(()=>Object.assign(Object.assign({},_),{status:M,hasFeedback:!1,feedbackIcon:null}),[_,M]),j=o.useRef(null),T=o.useRef({});o.useImperativeHandle(s,()=>({focus:()=>{var a;(a=T.current[0])===null||a===void 0||a.focus()},blur:()=>{var a;for(let i=0;i<n;i+=1)(a=T.current[i])===null||a===void 0||a.blur()},nativeElement:j.current}));const X=a=>v?v(a):a,[L,q]=o.useState(U(X(u||"")));o.useEffect(()=>{b!==void 0&&q(U(b))},[b]);const J=Z(a=>{q(a),R&&R(a),C&&a.length===n&&a.every(i=>i)&&a.some((i,c)=>L[c]!==i)&&C(a.join(""))}),l=Z((a,i)=>{let c=ue(L);for(let p=0;p<a;p+=1)c[p]||(c[p]="");i.length<=1?c[a]=i:c=c.slice(0,a).concat(U(i)),c=c.slice(0,n);for(let p=c.length-1;p>=0&&!c[p];p-=1)c.pop();const D=X(c.map(p=>p||" ").join(""));return c=U(D).map((p,Y)=>p===" "&&!c[Y]?c[Y]:p),c}),d=(a,i)=>{var c;const D=l(a,i),p=Math.min(a+i.length,n-1);p!==a&&D[a]!==void 0&&((c=T.current[p])===null||c===void 0||c.focus()),J(D)},k=a=>{var i;(i=T.current[a])===null||i===void 0||i.focus()},re={variant:y,disabled:m,status:M,mask:f,type:O,inputMode:A},ae=a=>{const i=typeof g=="function"?g(a):g;return i?o.createElement("span",{className:`${h}-separator`},i):null};return V(o.createElement("div",Object.assign({},x,{ref:j,className:Q(h,{[`${h}-sm`]:w==="small",[`${h}-lg`]:w==="large",[`${h}-rtl`]:F==="rtl"},I,B)}),o.createElement(G.Provider,{value:P},Array.from({length:n}).map((a,i)=>{const c=`otp-${i}`,D=L[i]||"";return o.createElement(o.Fragment,{key:c},o.createElement(Re,Object.assign({ref:p=>{T.current[i]=p},index:i,size:w,htmlSize:1,className:`${h}-input`,onChange:d,value:D,onActiveChange:k,autoFocus:i===0&&$},re)),g&&i<n-1&&ae(i))}))))});var Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Me=function(s,r){return o.createElement(ne,te({},s,{ref:r,icon:Ae}))},Te=o.forwardRef(Me),Ne=function(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)s.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Be=e=>e?o.createElement(Se,null):o.createElement(Te,null),Fe={click:"onClick",hover:"onMouseOver"},De=o.forwardRef((e,s)=>{const{disabled:r,action:n="click",visibilityToggle:t=!0,iconRender:u=Be}=e,b=o.useContext(fe),C=r??b,v=typeof t=="object"&&t.visible!==void 0,[g,y]=o.useState(()=>v?t.visible:!1),m=o.useRef(null);o.useEffect(()=>{v&&y(t.visible)},[v,t]);const z=ve(m),$=()=>{var I;if(C)return;g&&z();const w=!g;y(w),typeof t=="object"&&((I=t.onVisibleChange)===null||I===void 0||I.call(t,w))},f=I=>{const w=Fe[n]||"",_=u(g),M={[w]:$,className:`${I}-icon`,key:"passwordIcon",onMouseDown:P=>{P.preventDefault()},onMouseUp:P=>{P.preventDefault()}};return o.cloneElement(o.isValidElement(_)?_:o.createElement("span",null,_),M)},{className:O,prefixCls:R,inputPrefixCls:A,size:E}=e,S=Ne(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:F}=o.useContext(H),h=F("input",A),x=F("input-password",R),N=t&&f(x),V=Q(x,O,{[`${x}-${E}`]:!!E}),B=Object.assign(Object.assign({},de(S,["suffix","iconRender","visibilityToggle"])),{type:g?"text":"password",className:V,prefixCls:h,suffix:N});return E&&(B.size=E),o.createElement(W,Object.assign({ref:se(s,m)},B))});var Ve=function(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)s.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Le=o.forwardRef((e,s)=>{const{prefixCls:r,inputPrefixCls:n,className:t,size:u,suffix:b,enterButton:C=!1,addonAfter:v,loading:g,disabled:y,onSearch:m,onChange:z,onCompositionStart:$,onCompositionEnd:f}=e,O=Ve(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:R,direction:A}=o.useContext(H),E=o.useRef(!1),S=R("input-search",r),F=R("input",n),{compactSize:h}=pe(S,A),x=oe(l=>{var d;return(d=u??h)!==null&&d!==void 0?d:l}),N=o.useRef(null),V=l=>{l!=null&&l.target&&l.type==="click"&&m&&m(l.target.value,l,{source:"clear"}),z==null||z(l)},B=l=>{var d;document.activeElement===((d=N.current)===null||d===void 0?void 0:d.input)&&l.preventDefault()},I=l=>{var d,k;m&&m((k=(d=N.current)===null||d===void 0?void 0:d.input)===null||k===void 0?void 0:k.value,l,{source:"input"})},w=l=>{E.current||g||I(l)},_=typeof C=="boolean"?o.createElement(Oe,null):null,M=`${S}-button`;let P;const j=C||{},T=j.type&&j.type.__ANT_BUTTON===!0;T||j.type==="button"?P=ee(j,Object.assign({onMouseDown:B,onClick:l=>{var d,k;(k=(d=j==null?void 0:j.props)===null||d===void 0?void 0:d.onClick)===null||k===void 0||k.call(d,l),I(l)},key:"enterButton"},T?{className:M,size:x}:{})):P=o.createElement(me,{className:M,type:C?"primary":void 0,size:x,disabled:y,key:"enterButton",onMouseDown:B,onClick:I,loading:g,icon:_},C),v&&(P=[P,ee(v,{key:"addonAfter"})]);const X=Q(S,{[`${S}-rtl`]:A==="rtl",[`${S}-${x}`]:!!x,[`${S}-with-button`]:!!C},t),L=Object.assign(Object.assign({},O),{className:X,prefixCls:F,type:"search"}),q=l=>{E.current=!0,$==null||$(l)},J=l=>{E.current=!1,f==null||f(l)};return o.createElement(W,Object.assign({ref:se(N,s),onPressEnter:w},L,{size:x,onCompositionStart:q,onCompositionEnd:J,addonAfter:P,suffix:b,onChange:V,disabled:y}))}),K=W;K.Group=we;K.Search=Le;K.TextArea=he;K.Password=De;K.OTP=ke;export{K as I,Se as R};
