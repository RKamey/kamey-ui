import{I as ge,_ as G,t as M,c as ee,v as pe,x as he,f as J}from"./button-DkP0tecP.js";import{r as t,R as $}from"./index-CZMpeKRu.js";import{b as Ne,_ as ue,a as X}from"./UnstableContext-BvhCNf13.js";import{r as Ae}from"./index-DDGe2ivH.js";import{p as be,b as _e}from"./useZIndex-C-aZEuvx.js";var Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},we=function(a,l){return t.createElement(ge,G({},a,{ref:l,icon:Le}))},qe=t.forwardRef(we),Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Pe=function(a,l){return t.createElement(ge,G({},a,{ref:l,icon:Ie}))},Be=t.forwardRef(Pe),Me=t.forwardRef(function(e,a){var l=e.prefixCls,s=e.style,u=e.className,h=e.duration,y=h===void 0?4.5:h,A=e.showProgress,w=e.pauseOnHover,b=w===void 0?!0:w,T=e.eventKey,D=e.content,m=e.closable,g=e.closeIcon,I=g===void 0?"x":g,C=e.props,d=e.onClick,j=e.onNoticeClose,H=e.times,E=e.hovering,k=t.useState(!1),x=M(k,2),f=x[0],p=x[1],o=t.useState(0),n=M(o,2),r=n[0],i=n[1],R=t.useState(0),_=M(R,2),S=_[0],U=_[1],v=E||f,L=y>0&&A,O=function(){j(T)},q=function(c){(c.key==="Enter"||c.code==="Enter"||c.keyCode===_e.ENTER)&&O()};t.useEffect(function(){if(!v&&y>0){var P=Date.now()-S,c=setTimeout(function(){O()},y*1e3-S);return function(){b&&clearTimeout(c),U(Date.now()-P)}}},[y,v,H]),t.useEffect(function(){if(!v&&L&&(b||S===0)){var P=performance.now(),c,N=function te(){cancelAnimationFrame(c),c=requestAnimationFrame(function(ae){var z=ae+S-P,K=Math.min(z/(y*1e3),1);i(K*100),K<1&&te()})};return N(),function(){b&&cancelAnimationFrame(c)}}},[y,S,v,L,H]);var Y=t.useMemo(function(){return Ne(m)==="object"&&m!==null?m:m?{closeIcon:I}:{}},[m,I]),ne=be(Y,!0),B=100-(!r||r<0?0:r>100?100:r),F="".concat(l,"-notice");return t.createElement("div",G({},C,{ref:a,className:ee(F,u,ue({},"".concat(F,"-closable"),m)),style:s,onMouseEnter:function(c){var N;p(!0),C==null||(N=C.onMouseEnter)===null||N===void 0||N.call(C,c)},onMouseLeave:function(c){var N;p(!1),C==null||(N=C.onMouseLeave)===null||N===void 0||N.call(C,c)},onClick:d}),t.createElement("div",{className:"".concat(F,"-content")},D),m&&t.createElement("a",G({tabIndex:0,className:"".concat(F,"-close"),onKeyDown:q,"aria-label":"Close"},ne,{onClick:function(c){c.preventDefault(),c.stopPropagation(),O()}}),Y.closeIcon),L&&t.createElement("progress",{className:"".concat(F,"-progress"),max:"100",value:B},B+"%"))}),ke=$.createContext({}),Ve=function(a){var l=a.children,s=a.classNames;return $.createElement(ke.Provider,{value:{classNames:s}},l)},ve=8,me=3,Ce=16,He=function(a){var l={offset:ve,threshold:me,gap:Ce};if(a&&Ne(a)==="object"){var s,u,h;l.offset=(s=a.offset)!==null&&s!==void 0?s:ve,l.threshold=(u=a.threshold)!==null&&u!==void 0?u:me,l.gap=(h=a.gap)!==null&&h!==void 0?h:Ce}return[!!a,l]},Fe=["className","style","classNames","styles"],De=function(a){var l=a.configList,s=a.placement,u=a.prefixCls,h=a.className,y=a.style,A=a.motion,w=a.onAllNoticeRemoved,b=a.onNoticeClose,T=a.stack,D=t.useContext(ke),m=D.classNames,g=t.useRef({}),I=t.useState(null),C=M(I,2),d=C[0],j=C[1],H=t.useState([]),E=M(H,2),k=E[0],x=E[1],f=l.map(function(v){return{config:v,key:String(v.key)}}),p=He(T),o=M(p,2),n=o[0],r=o[1],i=r.offset,R=r.threshold,_=r.gap,S=n&&(k.length>0||f.length<=R),U=typeof A=="function"?A(s):A;return t.useEffect(function(){n&&k.length>1&&x(function(v){return v.filter(function(L){return f.some(function(O){var q=O.key;return L===q})})})},[k,f,n]),t.useEffect(function(){var v;if(n&&g.current[(v=f[f.length-1])===null||v===void 0?void 0:v.key]){var L;j(g.current[(L=f[f.length-1])===null||L===void 0?void 0:L.key])}},[f,n]),$.createElement(pe,G({key:s,className:ee(u,"".concat(u,"-").concat(s),m==null?void 0:m.list,h,ue(ue({},"".concat(u,"-stack"),!!n),"".concat(u,"-stack-expanded"),S)),style:y,keys:f,motionAppear:!0},U,{onAllRemoved:function(){w(s)}}),function(v,L){var O=v.config,q=v.className,Y=v.style,ne=v.index,B=O,F=B.key,P=B.times,c=String(F),N=O,te=N.className,ae=N.style,z=N.classNames,K=N.styles,Se=he(N,Fe),oe=f.findIndex(function(Q){return Q.key===c}),Z={};if(n){var V=f.length-1-(oe>-1?oe:ne-1),fe=s==="top"||s==="bottom"?"-50%":"0";if(V>0){var re,ie,ce;Z.height=S?(re=g.current[c])===null||re===void 0?void 0:re.offsetHeight:d==null?void 0:d.offsetHeight;for(var de=0,se=0;se<V;se++){var le;de+=((le=g.current[f[f.length-1-se].key])===null||le===void 0?void 0:le.offsetHeight)+_}var Ee=(S?de:V*i)*(s.startsWith("top")?1:-1),xe=!S&&d!==null&&d!==void 0&&d.offsetWidth&&(ie=g.current[c])!==null&&ie!==void 0&&ie.offsetWidth?((d==null?void 0:d.offsetWidth)-i*2*(V<3?V:3))/((ce=g.current[c])===null||ce===void 0?void 0:ce.offsetWidth):1;Z.transform="translate3d(".concat(fe,", ").concat(Ee,"px, 0) scaleX(").concat(xe,")")}else Z.transform="translate3d(".concat(fe,", 0, 0)")}return $.createElement("div",{ref:L,className:ee("".concat(u,"-notice-wrapper"),q,z==null?void 0:z.wrapper),style:X(X(X({},Y),Z),K==null?void 0:K.wrapper),onMouseEnter:function(){return x(function(W){return W.includes(c)?W:[].concat(J(W),[c])})},onMouseLeave:function(){return x(function(W){return W.filter(function(Re){return Re!==c})})}},$.createElement(Me,G({},Se,{ref:function(W){oe>-1?g.current[c]=W:delete g.current[c]},prefixCls:u,classNames:z,styles:K,className:ee(te,m==null?void 0:m.notice),style:ae,times:P,key:F,eventKey:F,onNoticeClose:b,hovering:n&&k.length>0})))})},Oe=t.forwardRef(function(e,a){var l=e.prefixCls,s=l===void 0?"rc-notification":l,u=e.container,h=e.motion,y=e.maxCount,A=e.className,w=e.style,b=e.onAllRemoved,T=e.stack,D=e.renderNotifications,m=t.useState([]),g=M(m,2),I=g[0],C=g[1],d=function(n){var r,i=I.find(function(R){return R.key===n});i==null||(r=i.onClose)===null||r===void 0||r.call(i),C(function(R){return R.filter(function(_){return _.key!==n})})};t.useImperativeHandle(a,function(){return{open:function(n){C(function(r){var i=J(r),R=i.findIndex(function(U){return U.key===n.key}),_=X({},n);if(R>=0){var S;_.times=(((S=r[R])===null||S===void 0?void 0:S.times)||0)+1,i[R]=_}else _.times=0,i.push(_);return y>0&&i.length>y&&(i=i.slice(-y)),i})},close:function(n){d(n)},destroy:function(){C([])}}});var j=t.useState({}),H=M(j,2),E=H[0],k=H[1];t.useEffect(function(){var o={};I.forEach(function(n){var r=n.placement,i=r===void 0?"topRight":r;i&&(o[i]=o[i]||[],o[i].push(n))}),Object.keys(E).forEach(function(n){o[n]=o[n]||[]}),k(o)},[I]);var x=function(n){k(function(r){var i=X({},r),R=i[n]||[];return R.length||delete i[n],i})},f=t.useRef(!1);if(t.useEffect(function(){Object.keys(E).length>0?f.current=!0:f.current&&(b==null||b(),f.current=!1)},[E]),!u)return null;var p=Object.keys(E);return Ae.createPortal(t.createElement(t.Fragment,null,p.map(function(o){var n=E[o],r=t.createElement(De,{key:o,configList:n,placement:o,prefixCls:s,className:A==null?void 0:A(o),style:w==null?void 0:w(o),motion:h,onNoticeClose:d,onAllNoticeRemoved:x,stack:T});return D?D(r,{prefixCls:s,key:o}):r})),u)}),Te=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],je=function(){return document.body},ye=0;function Ke(){for(var e={},a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return l.forEach(function(u){u&&Object.keys(u).forEach(function(h){var y=u[h];y!==void 0&&(e[h]=y)})}),e}function Je(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.getContainer,l=a===void 0?je:a,s=e.motion,u=e.prefixCls,h=e.maxCount,y=e.className,A=e.style,w=e.onAllRemoved,b=e.stack,T=e.renderNotifications,D=he(e,Te),m=t.useState(),g=M(m,2),I=g[0],C=g[1],d=t.useRef(),j=t.createElement(Oe,{container:I,ref:d,prefixCls:u,motion:s,maxCount:h,className:y,style:A,onAllRemoved:w,stack:b,renderNotifications:T}),H=t.useState([]),E=M(H,2),k=E[0],x=E[1],f=t.useMemo(function(){return{open:function(o){var n=Ke(D,o);(n.key===null||n.key===void 0)&&(n.key="rc-notification-".concat(ye),ye+=1),x(function(r){return[].concat(J(r),[{type:"open",config:n}])})},close:function(o){x(function(n){return[].concat(J(n),[{type:"close",key:o}])})},destroy:function(){x(function(o){return[].concat(J(o),[{type:"destroy"}])})}}},[]);return t.useEffect(function(){C(l())}),t.useEffect(function(){if(d.current&&k.length){k.forEach(function(n){switch(n.type){case"open":d.current.open(n.config);break;case"close":d.current.close(n.key);break;case"destroy":d.current.destroy();break}});var p,o;x(function(n){return(p!==n||!o)&&(p=n,o=n.filter(function(r){return!k.includes(r)})),o})}},[k]),[f,j]}const Xe=$.createContext({});export{Xe as A,Me as N,qe as R,Be as a,Ve as b,Je as u};
